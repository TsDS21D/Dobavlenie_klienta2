/* 
calculator/static/calculator/css/base.css
ОПТИМИЗИРОВАННАЯ ВЕРСИЯ - УБРАНЫ ДУБЛИРУЮЩИЕСЯ СТИЛИ, УЛУЧШЕНА КНОПКА СВОРАЧИВАНИЯ
*/

/* ===== 1. БАЗОВЫЕ НАСТРОЙКИ КОНТЕЙНЕРА ===== */
/* Основной контейнер для всего содержимого страницы */
.container {
    max-width: 1200px;              /* Максимальная ширина 1200px для больших экранов */
    margin: 0 auto;                 /* Центрирование по горизонтали */
    background: white;              /* Белый фон для контраста */
    border-radius: 20px;            /* Скругленные углы 20px для современного вида */
    padding: 1.5rem;                /* Внутренние отступы 1.5rem (24px) со всех сторон */
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); /* Тень для эффекта глубины */
    width: 100%;                    /* Ширина 100% от родительского контейнера */
    box-sizing: border-box;         /* padding и border включаются в общую ширину */
    overflow-x: hidden;             /* Скрытие горизонтального скролла */
}

/* ===== 2. КОНТЕЙНЕР ДЛЯ СЕКЦИЙ ===== */
/* Контейнер, в котором расположены все секции калькулятора */
.calculator-sections {
    display: flex;                  /* Используем flexbox для расположения дочерних элементов */
    flex-direction: column;         /* Располагаем дочерние элементы вертикально (колонкой) */
    gap: 1.2rem;                    /* Расстояние между секциями 1.2rem (19.2px) */
    margin-top: 1.5rem;             /* Отступ сверху 1.5rem (24px) */
}

/* ===== 3. ОБЩИЕ СТИЛИ ДЛЯ СЕКЦИЙ ===== */
/* Базовые стили для всех секций калькулятора */
.calculator-section {
    background: white;              /* Белый фон секции */
    padding: 1rem;                  /* Внутренние отступы 1rem (16px) со всех сторон */
    border-radius: 12px;            /* Скругленные углы 12px */
    border: 1px solid #e0e0e0;      /* Светло-серая рамка толщиной 1px */
    display: flex;                  /* Используем flexbox для внутренней организации */
    flex-direction: column;         /* Располагаем содержимое секции вертикально */
    overflow: hidden;               /* Скрываем содержимое, выходящее за границы */
    transition: all 0.3s ease;      /* Плавный переход 0.3 секунды для всех CSS-свойств */
}

/* Эффект при наведении курсора на секцию */
.calculator-section:hover {
    border-color: #0B8661;          /* Изменяем цвет рамки на зеленый (#0B8661) */
    transform: translateY(-2px);    /* Поднимаем секцию на 2px вверх */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); /* Добавляем легкую тень */
}

/* Стили для главной секции "Просчёт" */
.calculator-section.main-section {
    margin-bottom: 0.5rem;          /* Уменьшенный отступ снизу 0.5rem (8px) */
}

/* Стили для вложенных секций внутри главной */
.main-section .calculator-section {
    margin-bottom: 1rem;            /* Отступ снизу 1rem (16px) между вложенными секциями */
    border: 1px solid #ddd;         /* Более светлая рамка толщиной 1px */
    background: #f9f9f9;            /* Светло-серый фон для визуального отделения */
    padding: 0.8rem;                /* Уменьшенные внутренние отступы 0.8rem (12.8px) */
    box-shadow: none;               /* Убираем тень у вложенных секций */
}

/* Эффект при наведении на вложенные секции */
.main-section .calculator-section:hover {
    border-color: #aaa;             /* Изменяем цвет рамки на темно-серый (#aaa) */
    transform: none;                /* Отменяем поднятие при наведении */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Легкая тень при наведении */
}

/* ===== 4. СТИЛИ ДЛЯ СВЕРНУТЫХ СЕКЦИЙ ===== */
/* Секция в свернутом состоянии (когда добавлен класс .collapsed) */
.calculator-section.collapsed {
    min-height: auto;               /* Минимальная высота определяется содержимым */
    max-height: 60px;               /* Максимальная высота 60px для компактности */
    overflow: hidden;               /* Скрываем содержимое, выходящее за границы */
    padding-bottom: 0.5rem;         /* Уменьшенный отступ снизу 0.5rem (8px) */
    border-color: #ccc;             /* Светло-серая рамка для свернутой секции */
    box-shadow: none;               /* Убираем тень у свернутой секции */
    transform: none;                /* Отменяем transform из hover-эффекта */
}

/* Эффект при наведении на свернутую секцию */
.calculator-section.collapsed:hover {
    border-color: #0B8661;          /* При наведении рамка становится зеленой */
}

/* Скрытие содержимого свернутой секции */
.calculator-section.collapsed .section-body {
    display: none !important;       /* Полностью скрываем тело секции (важно для гарантии) */
    height: 0;                      /* Устанавливаем высоту 0 */
    padding: 0;                     /* Убираем внутренние отступы */
    margin: 0;                      /* Убираем внешние отступы */
    overflow: hidden;               /* Скрываем переполнение содержимого */
    visibility: hidden;             /* Делаем элемент невидимым (альтернатива display:none) */
}

/* Показ содержимого развернутой секции */
.calculator-section:not(.collapsed) .section-body {
    display: block;                 /* Показываем тело секции в блочном режиме */
}

/* ===== 5. ЗАГОЛОВОК СЕКЦИИ ===== */
/* Контейнер для заголовка секции и кнопок управления */
.section-header {
    display: flex;                  /* Используем flexbox для горизонтального расположения */
    justify-content: space-between; /* Распределяем пространство между элементами */
    align-items: center;            /* Выравниваем элементы по вертикали по центру */
    margin-bottom: 1rem;            /* Отступ снизу 1rem (16px) */
    padding-bottom: 0.8rem;         /* Внутренний отступ снизу 0.8rem (12.8px) */
    border-bottom: 2px solid #f0f0f0; /* Светло-серая нижняя граница толщиной 2px */
}

/* Заголовок секции в свернутом состоянии */
.calculator-section.collapsed .section-header {
    margin-bottom: 0;               /* Убираем отступ снизу */
    padding-bottom: 0.5rem;         /* Уменьшаем внутренний отступ снизу до 0.5rem */
    border-bottom: none;            /* Убираем нижнюю границу */
}

/* Стили для текста заголовка (элемент h2) */
.section-header h2 {
    margin: 0;                      /* Убираем стандартные отступы браузера */
    font-size: 1.2rem;              /* Размер шрифта 1.2rem (19.2px) */
    color: #333;                    /* Темно-серый цвет текста */
    display: flex;                  /* Используем flexbox для расположения номера и текста */
    align-items: center;            /* Выравниваем элементы по вертикали по центру */
    gap: 0.5rem;                    /* Расстояние между номером и текстом 0.5rem (8px) */
}

/* ===== 6. НОМЕР СЕКЦИИ ===== */
/* Стили для зеленого кружка с номером секции */
.section-number {
    background: #0B8661;            /* Зеленый фон (#0B8661) */
    color: white;                   /* Белый цвет текста */
    width: 1.8rem;                  /* Ширина 1.8rem (28.8px) */
    height: 1.8rem;                 /* Высота 1.8rem (28.8px) - получается квадрат */
    border-radius: 50%;             /* Делаем элемент круглым (50% от размеров) */
    display: flex;                  /* Используем flexbox для центрирования номера */
    align-items: center;            /* Центрируем номер по вертикали */
    justify-content: center;        /* Центрируем номер по горизонтали */
    font-size: 0.9rem;              /* Размер шрифта 0.9rem (14.4px) */
    font-weight: bold;              /* Жирное начертание шрифта */
}

/* ===== 7. КОНТЕЙНЕР ДЛЯ КНОПОК УПРАВЛЕНИЯ ===== */
/* Блок, содержащий кнопки в правой части заголовка секции */
.header-buttons {
    display: flex;                  /* Используем flexbox для горизонтального расположения кнопок */
    gap: 0.4rem;                    /* Расстояние между кнопками 0.4rem (6.4px) */
    align-items: center;            /* Выравниваем кнопки по вертикали по центру */
}

/* ===== 8. ОБЩИЕ СТИЛИ ДЛЯ КНОПОК ===== */
/* Базовые стили для всех кнопок действий */
.btn-action {
    padding: 0.4rem 0.8rem;         /* Внутренние отступы: 0.4rem сверху/снизу, 0.8rem слева/справа */
    border: none;                   /* Убираем стандартную рамку браузера */
    border-radius: 6px;             /* Скругленные углы 6px */
    font-size: 0.85rem;             /* Размер шрифта 0.85rem (13.6px) */
    cursor: pointer;                /* Курсор в виде руки при наведении */
    transition: all 0.2s ease;      /* Плавный переход 0.2 секунды для всех свойств */
    display: flex;                  /* Используем flexbox для расположения иконки и текста */
    align-items: center;            /* Выравниваем иконку и текст по вертикали по центру */
    gap: 0.3rem;                    /* Расстояние между иконкой и текстом 0.3rem (4.8px) */
    white-space: nowrap;            /* Запрещаем перенос текста на новую строку */
}

/* ===== 9. УЛУЧШЕННАЯ КНОПКА СВОРАЧИВАНИЯ ===== */
/* Стили для кнопки сворачивания/разворачивания секции - ИСПРАВЛЕНО */
.btn-collapse-section {
    background: #f5f5f5;            /* Светло-серый фон (#f5f5f5) */
    color: #333;                    /* Темно-серый цвет текста */
    border: 1px solid #ddd;         /* Светло-серая рамка толщиной 1px */
    cursor: pointer;                /* Курсор в виде руки при наведении */
    user-select: none;              /* Запрещаем выделение текста кнопки */
    padding: 0.3rem 0.6rem;         /* Уменьшенные внутренние отступы для компактности */
    min-width: 24px;                /* ДОБАВЛЕНО: минимальная ширина 34px (выровнена с высотой) */
    min-height: 24px;               /* ДОБАВЛЕНО: минимальная высота 34px */
    justify-content: center;        /* Центрируем содержимое по горизонтали */
    flex-shrink: 0;                 /* ДОБАВЛЕНО: запрещаем сжатие кнопки */
    align-self: center;             /* ДОБАВЛЕНО: выравниваем по центру относительно родителя */
    margin: 0;                      /* ДОБАВЛЕНО: убираем внешние отступы */
    position: relative;             /* ДОБАВЛЕНО: для стабильного позиционирования */
    top: 0;                         /* ДОБАВЛЕНО: сбрасываем вертикальное смещение */
}

/* Кнопка сворачивания в свернутой секции - ДОБАВЛЕНО */
.calculator-section.collapsed .btn-collapse-section {
    margin-top: 0;                  /* ДОБАВЛЕНО: убираем отступ сверху */
    margin-bottom: 0;               /* ДОБАВЛЕНО: убираем отступ снизу */
    position: static;               /* ДОБАВЛЕНО: нормальное позиционирование */
    transform: none;                /* ДОБАВЛЕНО: сбрасываем трансформации */
    align-self: center;             /* ДОБАВЛЕНО: выравниваем по центру */
}

/* Эффект при наведении на кнопку сворачивания */
.btn-collapse-section:hover {
    background: #e0e0e0;            /* Более темный серый фон при наведении */
    transform: scale(1.05);         /* Легкое увеличение кнопки на 5% */
}

/* Эффект при нажатии (активации) кнопки сворачивания */
.btn-collapse-section:active {
    transform: scale(0.95);         /* Легкое уменьшение кнопки на 5% при нажатии */
    background: #d0d0d0;            /* Еще более темный серый фон при нажатии */
}

/* Стили для фокуса на кнопке (при навигации с клавиатуры) */
.btn-collapse-section:focus {
    outline: 2px solid #0B8661;     /* Зеленая рамка-обводка толщиной 2px */
    outline-offset: 2px;            /* Отступ обводки от края кнопки 2px */
}

/* Стили для иконки внутри кнопки сворачивания */
.btn-collapse-section i {
    font-size: 0.9rem;              /* Размер иконки 0.9rem (14.4px) */
    transition: transform 0.3s ease; /* Плавный переход 0.3 секунды для анимации иконки */
    color: #555;                    /* Темно-серый цвет иконки */
    display: block;                 /* ДОБАВЛЕНО: делаем блочным для лучшего контроля */
    line-height: 1;                 /* ДОБАВЛЕНО: нормализуем межстрочный интервал */
    margin: 0;                      /* ДОБАВЛЕНО: убираем внешние отступы */
}

/* Анимация поворота иконки при свертывании */
.calculator-section.collapsed .btn-collapse-section i {
    transform: rotate(-90deg);      /* Поворачиваем иконку на -90 градусов */
    transform-origin: center;       /* ДОБАВЛЕНО: вращаем вокруг центра */
    position: static;               /* ДОБАВЛЕНО: нормальное позиционирование */
}

/* ===== 10. КНОПКА РАСЧЕТА ЦЕНЫ ===== */
/* Стили для зеленой кнопки расчета стоимости */
.btn-calculate-price {
    background: #0B8661;            /* Зеленый фон (#0B8661) */
    color: white;                   /* Белый цвет текста */
}

/* Эффект при наведении на активную кнопку расчета */
.btn-calculate-price:hover:not(:disabled) {
    background: #097055;            /* Более темный зеленый фон при наведении */
}

/* Стили для отключенной кнопки расчета */
.btn-calculate-price:disabled {
    background: #cccccc;            /* Серый фон для отключенной кнопки */
    cursor: not-allowed;            /* Курсор "недоступно" для отключенной кнопки */
    opacity: 0.6;                   /* Полупрозрачность 60% для отключенной кнопки */
}

/* ===== 11. ТЕЛО СЕКЦИИ ===== */
/* Контейнер для основного содержимого секции */
.section-body {
    padding: 0.5rem;                /* Внутренние отступы 0.5rem (8px) со всех сторон */
    min-height: 200px;              /* Минимальная высота 200px для пустых секций */
    display: flex;                  /* Используем flexbox для внутренней организации */
    flex-direction: column;         /* Располагаем содержимое вертикально */
    justify-content: center;        /* Центрируем содержимое по вертикали (если оно мало) */
    transition: all 0.3s ease;      /* Плавный переход 0.3 секунды для всех свойств */
}

/* Тело главной секции "Просчёт" */
.main-section .section-body {
    padding: 1rem;                  /* Увеличенные внутренние отступы 1rem (16px) */
    min-height: 400px;              /* Увеличенная минимальная высота 400px */
}

/* ===== 12. КОНТЕЙНЕР ДЛЯ ВЛОЖЕННЫХ СЕКЦИЙ ===== */
/* Контейнер для организации вложенных секций внутри главной */
.nested-sections {
    display: flex;                  /* Используем flexbox для расположения строк */
    flex-direction: column;         /* Располагаем строки вертикально */
    gap: 1.5rem;                    /* Расстояние между строками 1.5rem (24px) */
}

/* Строка внутри контейнера вложенных секций */
.nested-row {
    display: flex;                  /* Используем flexbox для расположения колонок */
    gap: 1rem;                      /* Расстояние между колонками 1rem (16px) */
    width: 100%;                    /* Ширина 100% от родительского контейнера */
}

/* Колонка внутри строки */
.nested-col {
    flex: 1;                        /* Занимает доступное пространство пропорционально */
    display: flex;                  /* Используем flexbox для внутренней организации */
    flex-direction: column;         /* Располагаем содержимое вертикально */
}

/* Колонка, занимающая половину ширины строки */
.nested-col[data-col-size="half"] {
    flex: 0 0 calc(50% - 0.5rem);   /* Фиксированная ширина 50% минус половина gap */
}

/* Колонка, занимающая всю ширину строки */
.nested-col[data-col-size="full"] {
    flex: 0 0 100%;                 /* Фиксированная ширина 100% */
}

/* ===== 13. ЗАГЛУШКА ДЛЯ ПУСТЫХ СЕКЦИЙ ===== */
/* Стили для временных заглушек в еще не реализованных секциях */
.section-placeholder {
    text-align: center;             /* Выравнивание текста по центру */
    color: #666;                    /* Серый цвет текста */
    padding: 1.5rem;                /* Внутренние отступы 1.5rem (24px) */
    border: 2px dashed #e0e0e0;     /* Пунктирная светло-серая рамка толщиной 2px */
    border-radius: 8px;             /* Скругленные углы 8px */
    background: #fafafa;            /* Светло-серый фон (#fafafa) */
}

/* Иконка внутри заглушки (увеличенная) */
.section-placeholder i.fa-3x {
    color: #0B8661;                 /* Зеленый цвет иконки */
    margin-bottom: 1rem;            /* Отступ снизу 1rem (16px) */
    display: block;                 /* Отображаем иконку как блочный элемент */
}

/* Заголовок внутри заглушки */
.section-placeholder h3 {
    color: #333;                    /* Темно-серый цвет текста */
    margin-bottom: 1rem;            /* Отступ снизу 1rem (16px) */
    font-size: 1.3rem;              /* Размер шрифта 1.3rem (20.8px) */
}

/* Текст внутри заглушки */
.section-placeholder p {
    margin-bottom: 1.5rem;          /* Отступ снизу 1.5rem (24px) */
    line-height: 1.6;               /* Межстрочный интервал 1.6 (160% от размера шрифта) */
}

/* Список возможностей внутри заглушки */
.placeholder-list {
    list-style: none;               /* Убираем стандартные маркеры списка */
    padding: 0;                     /* Убираем стандартные внутренние отступы */
    margin: 0 0 1.5rem 0;           /* Убираем отступы сверху и слева, добавляем снизу 1.5rem */
    text-align: left;               /* Выравнивание текста по левому краю */
    display: inline-block;          /* Ширина определяется содержимым */
}

/* Элемент списка внутри заглушки */
.placeholder-list li {
    padding: 0.5rem 0;              /* Отступы сверху/снизу 0.5rem (8px) */
    display: flex;                  /* Используем flexbox для расположения иконки и текста */
    align-items: center;            /* Выравниваем иконку и текст по вертикали по центру */
    gap: 0.5rem;                    /* Расстояние между иконкой и текстом 0.5rem (8px) */
    color: #555;                    /* Темно-серый цвет текста */
}

/* Иконка внутри элемента списка */
.placeholder-list i {
    color: #0B8661;                 /* Зеленый цвет иконки */
    width: 1.2rem;                  /* Фиксированная ширина 1.2rem (19.2px) */
}

/* Примечание внизу заглушки */
.placeholder-note {
    display: flex;                  /* Используем flexbox для расположения иконки и текста */
    align-items: center;            /* Выравниваем элементы по вертикали по центру */
    justify-content: center;        /* Центрируем по горизонтали */
    gap: 0.5rem;                    /* Расстояние между иконкой и текстом 0.5rem (8px) */
    color: #777;                    /* Светло-серый цвет текста */
    font-style: italic;             /* Курсивное начертание шрифта */
}

/* ===== 14. СТИЛИ ДЛЯ БЛОКА ЦЕНЫ ===== */
/* Контейнер для отображения итоговой стоимости */
.price-summary {
    background: white;              /* Белый фон */
    border: 1px solid #e0e0e0;      /* Светло-серая рамка толщиной 1px */
    border-radius: 8px;             /* Скругленные углы 8px */
    padding: 1.5rem;                /* Внутренние отступы 1.5rem (24px) */
    margin: 1.5rem 0;               /* Отступы сверху/снизу 1.5rem (24px) */
    max-width: 400px;               /* Максимальная ширина 400px */
    margin-left: auto;              /* Автоматический отступ слева для центрирования */
    margin-right: auto;             /* Автоматический отступ справа для центрирования */
}

/* Строка с отдельной позицией в блоке цены */
.price-row {
    display: flex;                  /* Используем flexbox для расположения названия и значения */
    justify-content: space-between; /* Распределяем пространство между названием и ценой */
    padding: 0.8rem 0;              /* Отступы сверху/снизу 0.8rem (12.8px) */
    border-bottom: 1px solid #f0f0f0; /* Светло-серая нижняя граница толщиной 1px */
}

/* Последняя строка в блоке цены */
.price-row:last-child {
    border-bottom: none;            /* Убираем нижнюю границу у последней строки */
}

/* Строка с итоговой суммой */
.price-row.total {
    font-weight: bold;              /* Жирное начертание шрифта */
    font-size: 1.2rem;              /* Увеличенный размер шрифта 1.2rem (19.2px) */
    color: #0B8661;                 /* Зеленый цвет текста */
    border-top: 2px solid #0B8661;  /* Зеленая верхняя граница толщиной 2px */
    padding-top: 1rem;              /* Увеличенный отступ сверху 1rem (16px) */
    margin-top: 0.5rem;             /* Отступ сверху 0.5rem (8px) */
}

/* Название позиции в строке цены */
.price-label {
    color: #555;                    /* Темно-серый цвет текста */
}

/* Значение цены в строке */
.price-value {
    color: #333;                    /* Темно-серый цвет текста */
    font-weight: 600;               /* Полужирное начертание шрифта */
}

/* ===== 15. УВЕДОМЛЕНИЯ ===== */
/* Стили для всплывающих уведомлений (успех, ошибка и т.д.) */
.calculator-notification {
    position: fixed;                /* Фиксированное позиционирование относительно окна браузера */
    top: 20px;                      /* Отступ сверху 20px */
    right: 20px;                    /* Отступ справа 20px */
    padding: 12px 24px;             /* Внутренние отступы: 12px сверху/снизу, 24px слева/справа */
    border-radius: 8px;             /* Скругленные углы 8px */
    color: white;                   /* Белый цвет текста */
    font-weight: bold;              /* Жирное начертание шрифта */
    font-size: 14px;                /* Размер шрифта 14px */
    z-index: 99999;                 /* Очень высокий слой, чтобы быть поверх всех элементов */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Тень для эффекта глубины */
    animation: calculatorNotificationFade 5s ease-in-out forwards; /* Анимация появления/исчезновения */
    max-width: 400px;               /* Максимальная ширина 400px */
    word-wrap: break-word;          /* Перенос длинных слов на новую строку */
}

/* Анимация для плавного появления и исчезновения уведомления */
@keyframes calculatorNotificationFade {
    0% { 
        opacity: 0;                 /* Начало: полностью прозрачное */
        transform: translateY(-20px) scale(0.9); /* Смещено вверх на 20px и уменьшено до 90% */
    }
    10% { 
        opacity: 1;                 /* Появление: полностью непрозрачное */
        transform: translateY(0) scale(1); /* Возврат на место и оригинальный размер */
    }
    90% { 
        opacity: 1;                 /* Сохранение видимости */
        transform: translateY(0) scale(1); /* Сохранение положения и размера */
    }
    100% { 
        opacity: 0;                 /* Исчезновение: снова прозрачное */
        transform: translateY(-20px) scale(0.9); /* Снова смещение вверх и уменьшение */
        display: none;              /* Скрытие элемента после завершения анимации */
    }
}

/* Цветовые стили для разных типов уведомлений */
.notification-success {
    background: linear-gradient(135deg, #4CAF50, #45a049); /* Зеленый градиентный фон */
    border-left: 5px solid #2E7D32; /* Темно-зеленая левая граница толщиной 5px */
}

.notification-error {
    background: linear-gradient(135deg, #F44336, #d32f2f); /* Красный градиентный фон */
    border-left: 5px solid #b71c1c; /* Темно-красная левая граница толщиной 5px */
}

.notification-warning {
    background: linear-gradient(135deg, #FF9800, #f57c00); /* Оранжевый градиентный фон */
    border-left: 5px solid #e65100; /* Темно-оранжевая левая граница толщиной 5px */
}

.notification-info {
    background: linear-gradient(135deg, #2196F3, #1976D2); /* Синий градиентный фон */
    border-left: 5px solid #0D47A1; /* Темно-синяя левая граница толщиной 5px */
}

/* ===== 16. СООБЩЕНИЯ DJANGO ===== */
/* Контейнер для системных сообщений Django (изначально скрыт) */
.django-messages {
    display: none;                  /* Скрываем контейнер, показывается через JavaScript */
}

/* ===== 17. АДАПТИВНЫЕ СТИЛИ ДЛЯ ПЛАНШЕТОВ ===== */
/* Медиазапрос для экранов шириной до 1137px (планшеты и небольшие ноутбуки) */
@media (max-width: 1137px) {
    /* Контейнер на планшетах */
    .container {
        padding: 1.2rem;            /* Уменьшенные внутренние отступы 1.2rem (19.2px) */
        max-width: calc(100% - 1rem); /* Ширина 100% минус 1rem отступов по бокам */
        margin: 0 0.5rem;           /* Небольшие отступы по бокам 0.5rem (8px) */
    }
    
    /* Заголовок секции на планшетах */
    .section-header {
        flex-direction: column;     /* Вертикальное расположение элементов заголовка */
        align-items: stretch;       /* Растягивание элементов на всю ширину */
        gap: 0.8rem;                /* Расстояние между элементами 0.8rem (12.8px) */
    }
    
    /* Кнопки в заголовке на планшетах */
    .header-buttons {
        flex-direction: row;        /* Горизонтальное расположение кнопок */
        width: 100%;                /* Ширина 100% от родительского контейнера */
        justify-content: flex-end;  /* Выравнивание кнопок по правому краю */
        gap: 0.4rem;                /* Расстояние между кнопками 0.4rem (6.4px) */
    }
    
    /* Строки вложенных секций на планшетах */
    .nested-row {
        flex-direction: column;     /* Вертикальное расположение колонок */
        gap: 1rem;                  /* Расстояние между колонками 1rem (16px) */
    }
    
    /* Колонки на планшетах */
    .nested-col {
        flex: 0 0 100%;             /* Каждая колонка занимает 100% ширины строки */
    }
    
    /* Специфичные колонки на планшетах */
    .nested-col[data-col-size="half"],
    .nested-col[data-col-size="full"] {
        flex: 0 0 100%;             /* Также занимают 100% ширины */
    }
    
    /* Заглушка на планшетах */
    .section-placeholder {
        padding: 1rem;              /* Уменьшенные внутренние отступы 1rem (16px) */
    }
    
    /* Блок цены на планшетах */
    .price-summary {
        padding: 1rem;              /* Уменьшенные внутренние отступы 1rem (16px) */
    }
    .calculator-section.collapsed .section-header {
        flex-direction: row !important;
        align-items: center !important;
    }
    
    .calculator-section.collapsed .header-buttons {
        position: static !important;
        transform: none !important;
        flex-shrink: 0 !important;
    }
    
    .calculator-section.collapsed .btn-collapse-section {
        position: static !important;
        margin: 0 !important;
    }
}

/* ===== ДОПОЛНИТЕЛЬНЫЕ ИСПРАВЛЕНИЯ ДЛЯ ОЧЕНЬ МАЛЕНЬКИХ ЭКРАНОВ ===== */

@media (max-width: 480px) {
    .calculator-section.collapsed {
        max-height: 70px !important;
        min-height: 70px !important;
    }
    
    .calculator-section.collapsed .section-header h2 {
        font-size: 0.9rem !important;
        max-width: 60% !important;
    }
    
    .calculator-section.collapsed .section-number {
        width: 24px !important;
        height: 24px !important;
        font-size: 11px !important;
        margin-right: 6px !important;
    }
    
    .calculator-section.collapsed .btn-collapse-section {
        min-width: 36px !important;
        min-height: 36px !important;
        padding: 6px 8px !important;
    }
}


/* ===== 18. АДАПТИВНЫЕ СТИЛИ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ ===== */
/* Медиазапрос для экранов шириной до 768px (мобильные телефоны) */
@media (max-width: 768px) {
    /* Контейнер на мобильных */
    .container {
        padding: 0.8rem;            /* Минимальные внутренние отступы 0.8rem (12.8px) */
        margin: 0;                  /* Убираем горизонтальные отступы */
        border-radius: 10px;        /* Уменьшенное скругление углов 10px */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); /* Более легкая тень */
    }
    
    /* Контейнер секций на мобильных */
    .calculator-sections {
        gap: 1rem;                  /* Уменьшенное расстояние между секциями 1rem (16px) */
    }
    
    /* Секции на мобильных */
    .calculator-section {
        padding: 0.8rem;            /* Уменьшенные внутренние отступы 0.8rem (12.8px) */
    }
    
    /* Тело главной секции на мобильных */
    .main-section .section-body {
        padding: 0.5rem;            /* Уменьшенные внутренние отступы 0.5rem (8px) */
        min-height: 300px;          /* Уменьшенная минимальная высота 300px */
    }
    
    /* Заголовок секции на мобильных */
    .section-header h2 {
        font-size: 1.1rem;          /* Уменьшенный размер шрифта 1.1rem (17.6px) */
        flex-direction: column;     /* Вертикальное расположение номера и текста */
        align-items: flex-start;    /* Выравнивание по левому краю */
        gap: 0.3rem;                /* Уменьшенное расстояние между элементами 0.3rem (4.8px) */
    }
    
    /* Номер секции на мобильных */
    .section-number {
        width: 1.5rem;              /* Уменьшенная ширина 1.5rem (24px) */
        height: 1.5rem;             /* Уменьшенная высота 1.5rem (24px) */
        font-size: 0.8rem;          /* Уменьшенный размер шрифта 0.8rem (12.8px) */
    }
    
    /* Кнопки в заголовке на мобильных */
    .header-buttons {
        justify-content: space-between; /* Равномерное распределение кнопок по ширине */
        width: 100%;                /* Ширина 100% от родительского контейнера */
    }
    
    /* Улучшенная кнопка сворачивания на мобильных */
    .btn-collapse-section {
        min-width: 36px;            /* Увеличенная минимальная ширина 36px для удобства касания */
        min-height: 36px;           /* Увеличенная минимальная высота 36px для удобства касания */
        padding: 0.4rem;            /* Увеличенные внутренние отступы 0.4rem (6.4px) */
    }
    
    /* Тело секции на мобильных */
    .section-body {
        min-height: 150px;          /* Уменьшенная минимальная высота 150px */
        padding: 0;                 /* Убираем внутренние отступы */
    }
    
    /* Контейнер вложенных секций на мобильных */
    .nested-sections {
        gap: 1rem;                  /* Уменьшенное расстояние между рядами 1rem (16px) */
    }
    
    /* Строки вложенных секций на мобильных */
    .nested-row {
        gap: 0.5rem;                /* Уменьшенное расстояние между колонками 0.5rem (8px) */
    }
    
    /* Список в заглушке на мобильных */
    .placeholder-list {
        text-align: center;         /* Центрирование текста списка */
    }
    
    /* Элементы списка в заглушке на мобильных */
    .placeholder-list li {
        justify-content: center;    /* Центрирование элементов списка по горизонтали */
    }

    /* Свернутая секция на мобильных */
    .calculator-section.collapsed {
        max-height: 80px !important; /* Увеличиваем высоту свернутой секции */
        min-height: 80px !important;
        padding: 0.5rem !important;
        overflow: visible !important; /* Разрешаем видеть содержимое за пределами */
    }
    
    /* Заголовок свернутой секции на мобильных */
    .calculator-section.collapsed .section-header {
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between !important;
        align-items: center !important;
        height: 100% !important;
        min-height: 70px !important;
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
        position: relative !important;
    }
    
    /* Заголовок h2 в свернутой секции */
    .calculator-section.collapsed .section-header h2 {
        font-size: 1rem !important;
        flex: 1 !important;
        margin: 0 !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        min-height: 40px !important;
        max-width: 70% !important; /* Ограничиваем ширину заголовка */
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }
    
    /* Контейнер кнопок в свернутой секции */
    .calculator-section.collapsed .header-buttons {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: flex-end !important;
        position: absolute !important;
        right: 5px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        height: auto !important;
        min-height: 40px !important;
        gap: 5px !important;
        z-index: 10 !important;
        background: transparent !important;
    }
    
    /* Кнопка сворачивания в свернутой секции */
    .calculator-section.collapsed .btn-collapse-section {
        position: relative !important;
        top: auto !important;
        right: auto !important;
        margin: 0 !important;
        padding: 8px 10px !important;
        min-width: 40px !important;
        min-height: 40px !important;
        font-size: 16px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background: #f5f5f5 !important;
        border: 1px solid #ddd !important;
        border-radius: 6px !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
        z-index: 20 !important;
    }
    
    /* Иконка кнопки сворачивания */
    .calculator-section.collapsed .btn-collapse-section i {
        font-size: 14px !important;
        line-height: 1 !important;
        margin: 0 !important;
        width: 14px !important;
        height: 14px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    /* Другие кнопки в свернутой секции */
    .calculator-section.collapsed .btn-action:not(.btn-collapse-section) {
        display: none !important; /* Скрываем другие кнопки */
    }
    
    /* Номер секции в свернутой секции на мобильных */
    .calculator-section.collapsed .section-number {
        flex-shrink: 0 !important;
        width: 28px !important;
        height: 28px !important;
        font-size: 12px !important;
        margin-right: 8px !important;
    }
    
    /* Специальные стили для секции списка просчётов */
    #list-proschet-section.collapsed .section-header h2 {
        max-width: 60% !important; /* Еще меньше места для названия */
    }
    
    /* Скрываем бейдж в свернутой секции на мобильных */
    #list-proschet-section.collapsed .badge {
        display: none !important;
    }
    
    /* Скрываем кнопку "Создать" в свернутой секции */
    #list-proschet-section.collapsed .btn-create {
        display: none !important;
    }
}